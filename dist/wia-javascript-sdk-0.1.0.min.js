window.console=window.console||{},window.console.log=this.console.log||function(){},function(e){e.Wia=e.Wia||{},e.Wia.VERSION="js1.0.0"}(this),function(e){e.Wia=e.Wia||{};var t=e.Wia;"undefined"!=typeof e.$&&(t.$=e.$),t.restApiBase="https://api.wia.io/v1/",t.socketApiEndpoint="wss://api.wia.io:3001",t.initialize=function(e){t._initialize(e)},t._initialize=function(e){t.appKey=e.appKey||null,t.secretKey=e.secretKey||null,t.accessToken=e.accessToken||null,t.restApiBase=e.restApiBase||t.restApiBase,t.socketApiEndpoint=e.socketApiEndpoint||t.socketApiEndpoint}}(this),function(e){function t(e){return n.secretKey&&e.setRequestHeader("Authorization","Bearer "+n.secretKey),n.accessToken&&e.setRequestHeader("Authorization","Bearer "+n.accessToken),n.appKey&&e.setRequestHeader("x-app-key",n.appKey),e}function s(e){var t=[];for(var s in e)e.hasOwnProperty(s)&&t.push(encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t.join("&")}e.Wia=e.Wia||{};var n=e.Wia;n._restClient=n._restClient||{},n._restClient._get=function(e,i,o,a){var c=new XMLHttpRequest,r=n.restApiBase+e;i&&(r+="?"+s(i)),c.open("get",r,!0),c=t(c),c.responseType="json",c.onload=function(){var e=c.status;200==e?o(c.response):a({status:c.status,response:c.response})},c.send()},n._restClient._post=function(e,s,i,o){var a=new XMLHttpRequest;a.open("post",n.restApiBase+e,!0),a=t(a),a.setRequestHeader("Content-Type","application/json;charset=UTF-8"),a.responseType="json",a.onload=function(){var e=a.status;200==e||201==e?i(a.response):o({status:a.status,response:a.response})},a.send(JSON.stringify(s||{}))},n._restClient._put=function(e,s,i,o){var a=new XMLHttpRequest;a.open("put",n.restApiBase+e,!0),a=t(a),a.setRequestHeader("Content-Type","application/json;charset=UTF-8"),a.responseType="json",a.onload=function(){var e=a.status;200==e||201==e?i(a.response):o({status:a.status,response:a.response})},a.send(JSON.stringify(s||{}))},n._restClient._delete=function(e,s,i){var o=new XMLHttpRequest;o.open("delete",n.restApiBase+e,!0),o=t(o),o.responseType="json",o.onload=function(){var e=o.status;200==e?s(o.response):i({status:o.status,response:o.response})},o.send()}}(this),function(e){e.Wia=e.Wia||{};var t=e.Wia;t.customers=t.customers||{},t.customers.signup=function(e,s,n){t._restClient._post("customers/signup",e,function(e){s(e)},function(e){n(e)})},t.customers.login=function(e,s,n){e.scope="customer",e.grantType="password",t._restClient._post("auth/token",e,function(e){t.accessToken=e.accessToken,s(e)},function(e){n(e)})}}(this),function(e){e.Wia=e.Wia||{};var t=e.Wia;t.devices=t.devices||{},t.devices.create=function(e,t){t&&t(e)},t.devices.retrieve=function(e,s,n){t._restClient._get("devices/"+e,params,function(e){s(e)},function(e){n(e)})},t.devices.update=function(e,s,n,i){t._restClient._put("devices/"+e,s,function(e){n(e)},function(e){i(e)})},t.devices["delete"]=function(e,s,n){t._restClient._delete("devices/"+e,function(e){s(e)},function(e){n(e)})},t.devices.list=function(e,s,n){t._restClient._get("devices",e,function(e){s(e.devices,e.count)},function(e){n(e)})}}(this);